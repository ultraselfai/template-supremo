// Decode Console - Prisma Schema
// Documentação: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// ============================================
// MODELOS BASE (Preparados para Better-Auth)
// ============================================
// O Better-Auth vai adicionar/modificar estes modelos
// quando executarmos a CLI dele. Por enquanto, criamos
// apenas a estrutura base de Organization para multi-tenancy.

/// Organização (Tenant) - Base para multi-tenancy
model Organization {
  id        String   @id @default(cuid())
  name      String
  slug      String   @unique /// Subdomínio do tenant (ex: "acme" -> acme.decode.app)
  logo      String?  /// URL do logo no R2
  metadata  Json?    /// Configurações extras do tenant
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relações serão adicionadas pelo Better-Auth
  // members     Member[]
  // invitations Invitation[]

  @@map("organizations")
}
